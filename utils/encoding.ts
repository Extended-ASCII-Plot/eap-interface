export const ascii = BigUint64Array.from([
  18446744073709551615n,
  4347788204972244991n,
  4348918485745729535n,
  4070196866472542207n,
  1746409552078766079n,
  1759357598575951871n,
  1745846593535410175n,
  6821628239478783n,
  6795136881197055n,
  26491358347263n,
  4477178510024179711n,
  4477187306117201919n,
  4479432542549770239n,
  436563842198208511n,
  252008782312308735n,
  6076574518392979455n,
  9168834181823266815n,
  584373105313447935n,
  9102419515030962175n,
  2179221215351209983n,
  9134346469124276223n,
  9116318825271197695n,
  9120897482606182399n,
  9118641267364790271n,
  1166571048380989439n,
  579977042162941951n,
  578780842231398399n,
  584410255866265599n,
  2027220312164204543n,
  2027229108257226751n,
  16212114220181946367n,
  522416727963795455n,
  65535n,
  274877907009535n,
  63050398541348863n,
  2953843477659582463n,
  2617996921347833855n,
  4759196912907780095n,
  7823467527526219775n,
  176746494230527n,
  35046391969546239n,
  36735216060006399n,
  12137474158502150143n,
  1157561512664039423n,
  5523328008191n,
  1157442765408239615n,
  2199023321087n,
  147510894446837759n,
  8971894496799293439n,
  180986219625250815n,
  4793671214696562687n,
  9548355456603324415n,
  870360505116590079n,
  16474909206160408575n,
  8980919424068419583n,
  13871234843452440575n,
  7823476660270858239n,
  8109446406424559615n,
  39582418665471n,
  1449156325474303n,
  4547874331361279n,
  2604246222168457215n,
  36666685830266879n,
  4647867168136953855n,
  8971929887128485887n,
  4487986872533975039n,
  18343885389808336895n,
  8971876903673724927n,
  18339364129543880703n,
  18343885390177435647n,
  18343320232577269759n,
  8971894564981899263n,
  18307150150428065791n,
  9404358808383324159n,
  865397577493839871n,
  18307150252567756799n,
  18303194043233927167n,
  18320678747654651903n,
  18329668131385049087n,
  8971876904613249023n,
  18343320232040398847n,
  8971876913169629183n,
  18343320232275279871n,
  7247015907430563839n,
  9259680661730557951n,
  18159078859352375295n,
  16147663167844057087n,
  18159353737259319295n,
  14278680385884848127n,
  16145420129763655679n,
  9694722375605616639n,
  18339363569117757439n,
  9250411278378270719n,
  9404358247856537599n,
  2323998420626374655n,
  144680345676087295n,
  211793427365887n,
  300098694143868927n,
  18308295915061968895n,
  2027220312029986815n,
  2027220255826313215n,
  2029480942363541503n,
  2341485468018868223n,
  1739837604213358591n,
  18307167807575490559n,
  153894253116850175n,
  144433091857940479n,
  18307150249883402239n,
  9259677919427493887n,
  4476608953874186239n,
  4472109752293326847n,
  2027220312164204543n,
  4545295453817733119n,
  2027220252621864959n,
  4472109752058445823n,
  1308905002185588735n,
  2340783436320538623n,
  4324020800848986111n,
  3462144464909303807n,
  4324084572523397119n,
  2455596579386621951n,
  4036638161080745983n,
  2460700641211777023n,
  1220056043921407999n,
  261683767476223n,
  9404340724389969919n,
  2323892866973237247n,
  9324166519187439615n,
  9570151489929215n,
  2488276762212499455n,
  6172840429334757375n,
  17294086455919968255n,
  145249953336328191n,
  4620710844295217151n,
  280375465148415n,
  1157459258083704831n,
  1157705479699365887n,
  34153849487359n,
  1157459189094744063n,
  7731210682367n,
  1155181001001992191n,
  1157705548688326655n,
  513198701531889663n,
  18446602507813126143n,
  363108260549165055n,
  6172839697753112575n,
  11914489796558847n,
  18374966859414962175n,
  218159733834514431n,
  9169081515752292351n,
  1157442765409288191n,
  280444454109183n,
  1157689056013910015n,
  263951779692543n,
  1157688987024949247n,
  211243941036031n,
  1162139810094186495n,
  93458488426495n,
  16210985030866960383n,
  18446742961193549823n,
  731581710335n,
  5809732168785657855n,
  12297829382473056255n,
  1080880403495059455n,
  64677216255n,
  1085102527894061055n,
  217020518514294783n,
  506381209866600447n,
  1085102592571211775n,
  2242545357980434431n,
  4557430888798879743n,
  68989026303n,
  16492674482175n,
  1152939097061392383n,
  4413456383n,
  1082835334917586943n,
  6172840386300542975n,
  5809732211819872255n,
  43034279935n,
  363108217514950655n,
  1034834477055n,
  17361640446303993855n,
  1085103562728472575n,
  18446462598732906495n,
  18446742974197989375n,
  18446744069414649855n,
  4490751087715876863n,
  263882790731775n,
  1157442696420327423n,
  2034349652932886527n,
  553529704447n,
  17357013701374312447n,
  6172839740787326975n,
  363108949096595455n,
  688547495935n,
  5809731480238227455n,
  1876899515156463615n,
  2460135345870667775n,
  149788823633592319n,
  433206486227812351n,
  17904126401112506367n,
  1800382387520077823n,
  7384340409050267647n,
  7375293489937973247n,
  7376419407024685055n,
  8667263556032462847n,
  6064376347415871487n,
  9372034875923693567n,
  3332451789864763391n,
  445609037518667775n,
  721994656666157055n,
  11551908987708768255n,
  13510814988304383n,
  6917535625516220415n,
  881860535568629759n,
  2179530284989480959n,
  284803626762239n,
  1746410927005171711n,
  2035133480169439231n,
  4070196625954373631n,
  4054403240932999167n,
  18410856566090694655n,
  9259542123273846783n,
  9259542123282169855n,
  1741833230669119487n,
  4330277201795678207n,
  2751557909623144447n,
  2762816736892878847n,
  1741833315964485631n,
  4065756969800105983n,
  74035671341268991n,
  6129774319805792255n,
  2755350009263226879n,
  5691158084780031n,
  318484997730271231n,
  1356982977464172543n,
  1183176126386733055n,
  18374686479671689215n,
  18411139144899100671n,
  16777215n,
  2035203162255720447n,
  2627426237840162815n,
  2035203127493328895n,
  4498109131198103551n,
  8370072022608314367n,
  17318856631827628031n,
  4348918520105467903n,
  4346662287885533183n,
  2248769787792523263n,
  4138659001669844991n,
  2242863258591559679n,
  2251658523070955519n,
  1739541813473116159n,
  18374969058471837695n,
  72340172838141951n,
  72340172854788095n,
])

export function colorize(value: bigint, color?: bigint): bigint {
  return color === undefined ? value : (value & 0xffffffffffff_0000n) | color
}

export function color2Hex(color: bigint): string {
  const red = (color & 0xf000n) >> 12n
  const green = (color & 0x0f00n) >> 8n
  const blue = (color & 0x00f0n) >> 4n
  return `#${red.toString(16)}${green.toString(16)}${blue.toString(16)}`
}

export function color2Opacity(color: bigint): number {
  return parseInt((color & 0x000fn).toString(), 10) / 0xf
}
